<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Game Lobby</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: sans-serif;
    }

    body {
      margin: 0;
      background: #111;
      color: #fff;
    }

    .hidden {
      display: none;
    }

    /* âœ… ÙˆØ³Ø·â€ŒÚ†ÛŒÙ† Ú©Ø§Ù…Ù„ ØµÙØ­Ù‡ */
    .container {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .box {
      background: #1e1e1e;
      padding: 25px;
      border-radius: 10px;
      width: 300px;
    }

    input {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border-radius: 6px;
      border: none;
    }

    button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: none;
      border-radius: 6px;
      background: #4caf50;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }

    button.secondary {
      background: #2196f3;
    }

    .switch {
      margin-top: 15px;
      font-size: 14px;
      cursor: pointer;
      color: #aaa;
    }

    .stats {
      margin-top: 20px;
      font-size: 18px;
    }
  </style>
</head>
<body>

<!-- âœ… AUTH -->
<div id="auth" class="container">
  <div class="box">

    <!-- LOGIN -->
    <div id="loginBox">
      <h2>ÙˆØ±ÙˆØ¯</h2>
      <input id="loginUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
      <input id="loginPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
      <button onclick="login()">ÙˆØ±ÙˆØ¯</button>
      <div class="switch" onclick="showRegister()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</div>
    </div>

    <!-- REGISTER -->
    <div id="registerBox" class="hidden">
      <h2>Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h2>
      <input id="regUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
      <input id="regPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
      <input id="regAge" type="number" placeholder="Ø³Ù†">
      <button class="secondary" onclick="register()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
      <div class="switch" onclick="showLogin()">ÙˆØ±ÙˆØ¯</div>
    </div>

  </div>
</div>

<!-- âœ… LOBBY -->
<div id="lobby" class="container hidden">
  <div class="box">
    <h2>ğŸ® Ù„Ø§Ø¨ÛŒ Ø¨Ø§Ø²ÛŒ</h2>
    <div class="stats">
      ğŸª™ Ø³Ú©Ù‡: <span id="coins">0</span><br>
      ğŸ’ Ø¬Ù…: <span id="gems">0</span>
    </div>
  </div>
</div>

<script>
  const auth = document.getElementById("auth");
  const lobby = document.getElementById("lobby");

  const loginBox = document.getElementById("loginBox");
  const registerBox = document.getElementById("registerBox");

  const loginUser = document.getElementById("loginUser");
  const loginPass = document.getElementById("loginPass");

  const regUser = document.getElementById("regUser");
  const regPass = document.getElementById("regPass");
  const regAge = document.getElementById("regAge");

  const coins = document.getElementById("coins");
  const gems = document.getElementById("gems");

  function showRegister() {
    loginBox.classList.add("hidden");
    registerBox.classList.remove("hidden");
  }

  function showLogin() {
    registerBox.classList.add("hidden");
    loginBox.classList.remove("hidden");
  }

  function register() {
    const user = regUser.value.trim();
    const pass = regPass.value.trim();
    const age = regAge.value.trim();

    if (!user || !pass || !age) {
      alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†");
      return;
    }

    if (localStorage.getItem("user_" + user)) {
      alert("Ø§ÛŒÙ† Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ø´Ø¯Ù‡");
      return;
    }

    const data = {
      pass: pass,
      age: age,
      coins: 100,
      gems: 10
    };

    localStorage.setItem("user_" + user, JSON.stringify(data));
    alert("Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚ âœ…");
    showLogin();
  }

  function login() {
    const user = loginUser.value.trim();
    const pass = loginPass.value.trim();

    const data = JSON.parse(localStorage.getItem("user_" + user));

    if (!data || data.pass !== pass) {
      alert("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª");
      return;
    }

    // âœ… ÙˆØ±ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ Ù„Ø§Ø¨ÛŒ
    auth.classList.add("hidden");
    lobby.classList.remove("hidden");

    coins.innerText = data.coins;
    gems.innerText = data.gems;
  }
</script>

</body>
</html>
