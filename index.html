<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>ALCAPONE 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:tahoma;
  background:#000;
  color:#f5d37a;
}
.overlay{
  min-height:100vh;
  background:rgba(0,0,0,.75);
}
.glass{
  background:rgba(0,0,0,.6);
  border:1px solid #d4af37;
  border-radius:15px;
  padding:20px;
  max-width:400px;
  margin:40px auto;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:none;
}
button{
  background:#d4af37;
  font-weight:bold;
}
.hidden{display:none}

/* LOGO */
.alcapone-logo{
  text-align:center;
  font-size:42px;
  letter-spacing:6px;
  margin-bottom:15px;
  color:#d4af37;
  font-family:Arial,Helvetica,sans-serif;
}

/* LOBBY BAR */
.lobby-bar{
  display:flex;
  justify-content:space-between;
  background:rgba(0,0,0,.7);
  padding:10px;
  border-radius:10px;
}
.big-logo{
  position:fixed;
  bottom:20px;
  width:100%;
  text-align:center;
  font-size:48px;
  opacity:.15;
}
</style>
</head>

<body>
<div class="overlay">

<!-- AUTH -->
<div id="auth" class="glass">
  <h2 id="authTitle">ÙˆØ±ÙˆØ¯</h2>

  <!-- LOGIN -->
  <div id="loginBox">
    <input id="lUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
    <input id="lPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <button type="button" onclick="login()">ÙˆØ±ÙˆØ¯</button>
    <p onclick="switchAuth()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</p>
  </div>

  <!-- REGISTER -->
  <div id="registerBox" class="hidden">
    <div class="alcapone-logo">ALCAPONE</div>
    <input id="rUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
    <input id="rPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <button type="button" onclick="register()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>
    <p onclick="switchAuth()">ÙˆØ±ÙˆØ¯</p>
  </div>
</div>

<!-- LOBBY -->
<div id="lobby" class="glass hidden">
  <div class="lobby-bar">
    <span id="playerName">ðŸ‘¤</span>
    <span id="playerMoney">ðŸ’° 0 | ðŸ’Ž 0</span>
  </div>
  <h2>ðŸŽ© Ù„Ø§Ø¨ÛŒ Alcapone</h2>
</div>

<div class="big-logo">ALCAPONE</div>
</div>

<script>
/* DATA */
let users = JSON.parse(localStorage.getItem("users") || "[]");
let current = null;

/* SWITCH AUTH */
function switchAuth(){
  const loginBox = document.getElementById("loginBox");
  const registerBox = document.getElementById("registerBox");
  const title = document.getElementById("authTitle");

  loginBox.classList.toggle("hidden");
  registerBox.classList.toggle("hidden");

  title.innerText =
    loginBox.classList.contains("hidden") ? "Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…" : "ÙˆØ±ÙˆØ¯";
}

/* REGISTER */
function register(){
  const u = document.getElementById("rUser").value.trim();
  const p = document.getElementById("rPass").value.trim();

  if(!u || !p) return alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");
  if(users.find(x=>x.u===u)) return alert("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø§Ø³Øª");

  users.push({
    u,p,
    coins:100,
    diamonds:5,
    ban:false
  });

  localStorage.setItem("users", JSON.stringify(users));
  alert("Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯");
  switchAuth();
}

/* LOGIN (âœ… Ù‚Ø·Ø¹ÛŒ) */
function login(){
  const u = document.getElementById("lUser").value.trim();
  const p = document.getElementById("lPass").value.trim();

  const user = users.find(x=>x.u===u && x.p===p);
  if(!user) return alert("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª");
  if(user.ban) return alert("Ø§Ú©Ø§Ù†Øª Ø´Ù…Ø§ Ø¨Ù† Ø´Ø¯Ù‡");

  current = user;

  document.getElementById("auth").classList.add("hidden");
  document.getElementById("lobby").classList.remove("hidden");

  document.getElementById("playerName").innerText = `ðŸ‘¤ ${user.u}`;
  document.getElementById("playerMoney").innerText =
    `ðŸ’° ${user.coins} | ðŸ’Ž ${user.diamonds}`;
}
</script>

</body>
</html>
