<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Game System</title>
<style>
body {
  font-family: sans-serif;
  background: #121212;
  color: #fff;
  margin: 0;
}

.hidden { display: none; }

.container {
  padding: 20px;
  text-align: center;
}

input, button, textarea {
  padding: 10px;
  margin: 5px;
  border-radius: 6px;
  border: none;
}

button {
  cursor: pointer;
  background: #ff9800;
  color: #000;
}

#lobby {
  position: relative;
  height: 100vh;
  background: linear-gradient(#1e1e1e, #000);
}

.top-right {
  position: absolute;
  top: 10px;
  right: 10px;
}

.bottom-right {
  position: absolute;
  bottom: 10px;
  right: 10px;
}

.bottom-left {
  position: absolute;
  bottom: 10px;
  left: 10px;
}

.box {
  background: rgba(0,0,0,0.6);
  padding: 10px;
  border-radius: 8px;
}
</style>
</head>
<body>

<!-- AUTH -->
<div id="auth" class="container">
  <h2>ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…</h2>
  <button onclick="showLogin()">ÙˆØ±ÙˆØ¯</button>
  <button onclick="showRegister()">Ø«Ø¨Øª Ù†Ø§Ù…</button>

  <div id="login" class="hidden">
    <input id="loginUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
    <input id="loginPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <button onclick="login()">ÙˆØ±ÙˆØ¯</button>
  </div>

  <div id="register" class="hidden">
    <input id="regUser" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
    <input id="regPass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <input id="regAge" type="number" placeholder="Ø³Ù†">
    <button onclick="register()">Ø«Ø¨Øª Ù†Ø§Ù…</button>
  </div>
</div>

<!-- LOBBY -->
<div id="lobby" class="hidden">
  <div class="top-right box">
    ğŸª™ <span id="coins">0</span>
    &nbsp;&nbsp;
    ğŸ’ <span id="gems">0</span>
  </div>

  <div class="bottom-right box">
    <h4>ğŸ“¦ ØµÙ†Ø¯ÙˆÙ‚ Ú¯Ø²Ø§Ø±Ø´Ø§Øª</h4>
    <textarea id="reportText" placeholder="Ù…ØªÙ† Ú¯Ø²Ø§Ø±Ø´"></textarea><br>
    <button onclick="sendReport()">Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´</button>
    <hr>
    <input id="viewPass1" placeholder="Ø±Ù…Ø² Ø¯Ø±Ø®ÙˆØ§Ø³Øª">
    <input id="viewPass2" placeholder="Ø±Ù…Ø² Ù…Ø´Ø§Ù‡Ø¯Ù‡">
    <button onclick="viewReports()">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>
    <div id="reports"></div>
  </div>

  <div class="bottom-left box">
    <button onclick="toggleRules()">ğŸ“œ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¨Ø§Ø²ÛŒ</button>
    <div id="rules" class="hidden">
      <p>1. Ù‡Ø±Ú¯ÙˆÙ†Ù‡ ØªÙˆÙ‡ÛŒÙ† Ùˆ ÙØ­Ø§Ø´ÛŒ Ø¨Ù‡ Ù‡Ù… Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ¯ Ù…Ù…Ù†ÙˆØ¹ Ø§Ø³Øª</p>
      <p>2. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø§Ø²ÛŒ Ø¯Ø± ÙØ¶Ø§ÛŒ Ù…Ø­ØªØ±Ù…Ø§Ù†Ù‡ Ø¨Ø§Ø´Ø¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø± Ù…ØªØ®Ù„Ù Ø±Ø§ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø²Ù†ÛŒØ¯</p>
      <p>3. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú†Ù†Ø¯ Ø§Ú©Ø§Ù†Øª Ù‡Ù…Ø²Ù…Ø§Ù† Ø¨Ø§ ØªØ¨Ø§Ù†ÛŒ Ú©Ø±Ø¯Ù† Ù…Ù…Ù†ÙˆØ¹ Ø§Ø³Øª Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
      <p>4. Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø®ØªÙ† Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ø¨Ø­Ø« Ø³ÛŒØ§Ø³ÛŒ Ù…Ù…Ù†ÙˆØ¹ Ø§Ø³Øª</p>
    </div>
  </div>
</div>

<script>
function showLogin() {
  login.classList.remove("hidden");
  register.classList.add("hidden");
}

function showRegister() {
  register.classList.remove("hidden");
  login.classList.add("hidden");
}

function register() {
  const user = regUser.value;
  const pass = regPass.value;
  const age = regAge.value;

  if (!user || !pass || !age) return alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");

  localStorage.setItem("user_"+user, JSON.stringify({
    user, pass, age, coins: 120, gems: 0
  }));

  alert("Ø«Ø¨Øª Ù†Ø§Ù… Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯");
}

function login() {
  const user = loginUser.value;
  const pass = loginPass.value;
  const data = JSON.parse(localStorage.getItem("user_"+user));

  if (!data || data.pass !== pass) return alert("Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª");

  auth.classList.add("hidden");
  lobby.classList.remove("hidden");

  coins.innerText = data.coins;
  gems.innerText = data.gems;
}

function sendReport() {
  const text = reportText.value;
  if (!text) return;
  const reports = JSON.parse(localStorage.getItem("reports") || "[]");
  reports.push(text);
  localStorage.setItem("reports", JSON.stringify(reports));
  alert("Ú¯Ø²Ø§Ø±Ø´ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯");
  reportText.value = "";
}

function viewReports() {
  if (viewPass1.value !== "req123" || viewPass2.value !== "view456")
    return alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡");

  const reports = JSON.parse(localStorage.getItem("reports") || "[]");
  reportsDiv = reports.map(r => "<p>ğŸ“© "+r+"</p>").join("");
  reports.innerHTML = reportsDiv;
}

function toggleRules() {
  rules.classList.toggle("hidden");
}
</script>

</body>
</html>
