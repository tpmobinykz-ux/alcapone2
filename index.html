<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒ Ø¢Ù„â€ŒÚ©Ø§Ù¾ÙˆÙ† Û² - Ù…Ø¯ÛŒØ±ÛŒØª</title>
    <style>
        :root {
            --bg-color: #0d1117;
            --card-bg: #161b22;
            --primary-blue: #58a6ff;
            --text-color: #c9d1d9;
            --accent-green: #238636;
            --admin-red: #da3633;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* Ø¨Ø®Ø´ Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ùˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… */
        #auth-container {
            width: 100%;
            max-width: 400px;
            text-align: center;
            margin-top: 50px;
        }

        .welcome-msg {
            color: var(--primary-blue);
            font-size: 1.5rem;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .auth-card {
            background: var(--card-bg);
            border: 1px solid #30363d;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            color: white;
            box-sizing: border-box;
            font-family: inherit;
            text-align: center;
        }

        /* Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ */
        #main-panel, #admin-panel {
            display: none;
            width: 100%;
            max-width: 500px;
            text-align: center;
        }

        .user-info {
            background: linear-gradient(145deg, #161b22, #0d1117);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--primary-blue);
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        h1 {
            color: var(--primary-blue);
            font-size: 2.2rem;
            text-shadow: 0 0 15px rgba(88, 166, 255, 0.4);
        }

        .card {
            background: var(--card-bg);
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: 0.3s;
        }

        .card:hover { border-color: var(--primary-blue); }

        .btn-action {
            background-color: var(--accent-green);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            width: 100%;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn-admin {
            background-color: var(--admin-red);
            margin-top: 20px;
            display: none; /* ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ */
        }

        .rank-badge { color: #ffd700; font-weight: bold; }

        .content-area {
            display: none;
            text-align: right;
            background: #21262d;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            border-right: 4px solid var(--primary-blue);
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† */
        .admin-box {
            background: #21262d;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed var(--admin-red);
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ Ùˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
    <div id="auth-container">
        <div class="welcome-msg">Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø§ÙÛŒØ§ÛŒ Ø¢Ù„â€ŒÚ©Ø§Ù¾ÙˆÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</div>
        <div class="auth-card">
            <h3>Ø³Ø§Ø®Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
            <input type="text" id="username" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
            <input type="password" id="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
            <input type="text" id="birthdate" placeholder="ØªØ§Ø±ÛŒØ® ØªÙˆÙ„Ø¯ (Ù…Ø«Ù„Ø§Ù‹ Û±Û³Û¸Û°/Û°Û±/Û°Û±)">
            <button class="btn-action" onclick="register()">Ø§ÛŒØ¬Ø§Ø¯ Ø§Ú©Ø§Ù†Øª Ùˆ ÙˆØ±ÙˆØ¯</button>
            <p style="font-size: 0.7rem; color: #8b949e; margin-top: 15px;">Ø±Ù…Ø² Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª</p>
        </div>
    </div>

    <!-- Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ù¾Ø³ Ø§Ø² ÙˆØ±ÙˆØ¯ -->
    <div id="main-panel">
        <h1>Al Capone 2</h1>
        
        <div class="user-info">
            <div>Ù†Ø§Ù…: <span id="display-name" style="color: var(--primary-blue);"></span></div>
            <div>Ø±Ù†Ú©: <span class="rank-badge" id="user-rank">Û°</span></div>
        </div>

        <button class="btn-action" style="background-color: var(--primary-blue);" onclick="alert('Ø¯Ø± Ø­Ø§Ù„ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù„Ø§Ø¨ÛŒ...')">ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>

        <div class="card" onclick="toggle('rules')">
            <h3>ğŸ“œ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø²ÙˆØ¯ÛŒØ§Ú©</h3>
            <div id="rules" class="content-area">
                <p>Û±. Ø§Ø­ØªØ±Ø§Ù… Ø¨Ù‡ ØªÙ…Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†</p>
                <p>Û². Ø¹Ø¯Ù… Ø§ÙØ´Ø§ÛŒ Ù†Ù‚Ø´</p>
            </div>
        </div>

        <button class="btn-action btn-admin" id="admin-btn" onclick="openAdmin()">âš™ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø§Ø²Ù†Ø¯Ù‡</button>
        
        <button class="btn-action" onclick="window.location.href='https://t.me/your_bot'" style="background-color: #238636; margin-top: 20px;">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…</button>
        
        <p style="cursor:pointer; color: #484f58; margin-top: 20px;" onclick="logout()">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨</p>
    </div>

    <!-- Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª (Ù…Ø®ÙÛŒ) -->
    <div id="admin-panel">
        <h1 style="color: var(--admin-red);">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ù„â€ŒÚ©Ø§Ù¾ÙˆÙ†</h1>
        <div class="admin-box">
            <p>ØªØºÛŒÛŒØ± Ø±Ù†Ú© Ø¨Ø§Ø²ÛŒÚ©Ù†:</p>
            <input type="number" id="new-rank" placeholder="Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
            <button class="btn-action" onclick="updateRank()">Ø«Ø¨Øª Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯</button>
            <hr style="border: 0.5px solid #30363d; margin: 20px 0;">
            <button class="btn-action" style="background-color: #8b949e;" onclick="closeAdmin()">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ</button>
            <button class="btn-action" style="background-color: var(--admin-red); margin-top: 10px;" onclick="resetAll()">Ø±ÛŒØ³Øª Ú©Ù„ Ø³ÛŒØ³ØªÙ…</button>
        </div>
    </div>

    <script>
        const ADMIN_PASSWORD = "tp_mfia";

        window.onload = function() {
            const savedUser = localStorage.getItem('alcapone_user');
            if (savedUser) {
                showPanel(JSON.parse(savedUser));
            }
        };

        function register() {
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            const birth = document.getElementById('birthdate').value;

            if (user && pass && birth) {
                const userData = {
                    name: user,
                    rank: 1000,
                    birth: birth,
                    isAdmin: (pass === ADMIN_PASSWORD) // Ú†Ú© Ú©Ø±Ø¯Ù† Ø±Ù…Ø² Ø³Ø§Ø²Ù†Ø¯Ù‡
                };
                localStorage.setItem('alcapone_user', JSON.stringify(userData));
                showPanel(userData);
            } else {
                alert('ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
            }
        }

        function showPanel(data) {
            document.getElementById('auth-container').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('main-panel').style.display = 'block';
            document.getElementById('display-name').innerText = data.name;
            document.getElementById('user-rank').innerText = data.rank;

            if (data.isAdmin) {
                document.getElementById('admin-btn').style.display = 'block';
            }
        }

        function openAdmin() {
            document.getElementById('main-panel').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'block';
        }

        function closeAdmin() {
            document.getElementById('admin-panel').style.display = 'none';
            document.getElementById('main-panel').style.display = 'block';
        }

        function updateRank() {
            const newRank = document.getElementById('new-rank').value;
            if (newRank) {
                let userData = JSON.parse(localStorage.getItem('alcapone_user'));
                userData.rank = newRank;
                localStorage.setItem('alcapone_user', JSON.stringify(userData));
                document.getElementById('user-rank').innerText = newRank;
                alert('Ø±Ù†Ú© Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØºÛŒÛŒØ± Ú©Ø±Ø¯');
                closeAdmin();
            }
        }

        function resetAll() {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                localStorage.clear();
                location.reload();
            }
        }

        function logout() {
            localStorage.removeItem('alcapone_user');
            location.reload();
        }

        function toggle(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
        }
    </script>
</body>
</html>
